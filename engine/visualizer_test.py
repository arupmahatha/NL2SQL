from visualizer import SQLVisualizer

from decimal import Decimal
import datetime

def main():
    """Test SQLVisualizer functionality"""
    visualizer = SQLVisualizer()
    
    # Test query
    query = """Give the CMR Godown Inspection Report with the following parameters:
{
    "startDate": "2025-04-01",
    "endDate": "2025-04-30",
 }"""
    
    test_results = [{'id': 504, 'document_id': 'w6lugqel3zw1pzdnq1kycb0j', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 6, 20, 45, 2, 680000), 'end_time': datetime.datetime(2025, 4, 6, 21, 6, 49, 978000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 20, 809000), 'updated_at': datetime.datetime(2025, 4, 16, 20, 29, 45, 43000), 'published_at': datetime.datetime(2025, 4, 16, 20, 29, 45, 37000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 16-04-2025', 'report_url': None, 'survey_payload_id': 20070, 'survey_id': 20053, 'survey_type_id': 1, 'godown_id': 'NSFCOPT101', 'godown_name': 'Godown No- 06, Nigam Godown , Balidaad', 'address': 'At - Walidad, Po - Walidad, ps - Mehandiya,  Near Sun temple Dist - Arwal Pin code 804402', 'ownership': 'Nigam', 'capacity': 500.0, 'latitude': 25.179968, 'longitude': 84.595716, 'current_status': 'active', 'godown_4_g_id': '04253'}, {'id': 377, 'document_id': 'kr95qnebf2d6zca5v7rn1jnb', 'start_latitude': Decimal('17.75'), 'start_longitude': Decimal('83.25'), 'end_latitude': Decimal('17.75'), 'end_longitude': Decimal('83.25'), 'start_time': datetime.datetime(2025, 4, 11, 3, 55, 1, 230000), 'end_time': datetime.datetime(2025, 4, 11, 4, 1, 32, 493000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 13, 354000), 'updated_at': datetime.datetime(2025, 4, 15, 15, 2, 42, 551000), 'published_at': datetime.datetime(2025, 4, 15, 15, 2, 42, 495000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Asha - 11-04-2025', 'report_url': None, 'survey_payload_id': 20071, 'survey_id': 20054, 'survey_type_id': 1, 'godown_id': 'SFCOPT250', 'godown_name': 'Nigam Godown No- 01 ,Bazar Samiti Parisar,Begusarai', 'address': 'Ward no-26, Panhas Chowk Bazzar Samiti Begusarai Near Dharauni Dharam Katta, Post-Sohid Nagar, P.S-Lohiya Nagar,  Dist-Begusarai, Pin No-851218', 'ownership': 'Nigam', 'capacity': 5000.0, 'latitude': 25.438, 'longitude': 86.14, 'current_status': 'active', 'godown_4_g_id': '04293'}, {'id': 506, 'document_id': 'o7re9wy7n1nk89lnq3nbnd5e', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 11, 17, 54, 40, 556000), 'end_time': datetime.datetime(2025, 4, 12, 4, 18, 6, 6000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 20, 934000), 'updated_at': datetime.datetime(2025, 4, 12, 4, 18, 12, 633000), 'published_at': datetime.datetime(2025, 4, 12, 4, 18, 12, 626000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 12-04-2025', 'report_url': None, 'survey_payload_id': 20072, 'survey_id': 20055, 'survey_type_id': 1, 'godown_id': 'SFCOPT103', 'godown_name': 'Godown No- 08, Nigam Godown , Bajitpur', 'address': 'At bajitpur, po+ps - karpi, Near Bajitpur Pond Dist- Arwal Pin code 804419', 'ownership': 'Nigam', 'capacity': 1000.0, 'latitude': 25.190131, 'longitude': 84.744292, 'current_status': 'active', 'godown_4_g_id': '04255'}, {'id': 446, 'document_id': 'ny6nnwxdpeztil9oh21t05e0', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 12, 15, 23, 44, 493000), 'end_time': datetime.datetime(2025, 4, 12, 15, 26, 41, 592000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 17, 478000), 'updated_at': datetime.datetime(2025, 4, 12, 15, 26, 48, 880000), 'published_at': datetime.datetime(2025, 4, 12, 15, 26, 48, 877000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 12-04-2025', 'report_url': None, 'survey_payload_id': 20073, 'survey_id': 20056, 'survey_type_id': 1, 'godown_id': 'SFCOPT216', 'godown_name': 'Godown No- 01 Nigam Godown ,Bazar Samiti, Araria,', 'address': 'Near State Bank Of India, Om Nagar, Ward No.08, Bazar Samiti Campus, Marketing Yard, Po-Araria, Ps-Araria, Araria-854311', 'ownership': 'Nigam', 'capacity': 5000.0, 'latitude': 26.132055, 'longitude': 87.454155, 'current_status': 'active', 'godown_4_g_id': '04237'}, {'id': 377, 'document_id': 'kr95qnebf2d6zca5v7rn1jnb', 'start_latitude': Decimal('17.75'), 'start_longitude': Decimal('83.25'), 'end_latitude': Decimal('17.75'), 'end_longitude': Decimal('83.25'), 'start_time': datetime.datetime(2025, 4, 11, 9, 25, 1, 230000), 'end_time': datetime.datetime(2025, 4, 11, 9, 31, 32, 493000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 13, 354000), 'updated_at': datetime.datetime(2025, 4, 15, 15, 2, 42, 551000), 'published_at': datetime.datetime(2025, 4, 15, 15, 2, 42, 495000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Asha - 11-04-2025', 'report_url': None, 'survey_payload_id': 20074, 'survey_id': 20057, 'survey_type_id': 1, 'godown_id': 'SFCOPT250', 'godown_name': 'Nigam Godown No- 01 ,Bazar Samiti Parisar,Begusarai', 'address': 'Ward no-26, Panhas Chowk Bazzar Samiti Begusarai Near Dharauni Dharam Katta, Post-Sohid Nagar, P.S-Lohiya Nagar,  Dist-Begusarai, Pin No-851218', 'ownership': 'Nigam', 'capacity': 5000.0, 'latitude': 25.438, 'longitude': 86.14, 'current_status': 'active', 'godown_4_g_id': '04293'}, {'id': 377, 'document_id': 'kr95qnebf2d6zca5v7rn1jnb', 'start_latitude': Decimal('17.75'), 'start_longitude': Decimal('83.25'), 'end_latitude': Decimal('17.75'), 'end_longitude': Decimal('83.25'), 'start_time': datetime.datetime(2025, 4, 11, 9, 25, 1, 230000), 'end_time': datetime.datetime(2025, 4, 11, 9, 31, 32, 493000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 13, 354000), 'updated_at': datetime.datetime(2025, 4, 15, 15, 2, 42, 551000), 'published_at': datetime.datetime(2025, 4, 15, 15, 2, 42, 495000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Asha - 11-04-2025', 'report_url': None, 'survey_payload_id': 20075, 'survey_id': 20058, 'survey_type_id': 1, 'godown_id': 'SFCOPT250', 'godown_name': 'Nigam Godown No- 01 ,Bazar Samiti Parisar,Begusarai', 'address': 'Ward no-26, Panhas Chowk Bazzar Samiti Begusarai Near Dharauni Dharam Katta, Post-Sohid Nagar, P.S-Lohiya Nagar,  Dist-Begusarai, Pin No-851218', 'ownership': 'Nigam', 'capacity': 5000.0, 'latitude': 25.438, 'longitude': 86.14, 'current_status': 'active', 'godown_4_g_id': '04293'}, {'id': 383, 'document_id': 'cdzfef5q5g5a56sgq999xkl7', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 15, 18, 24, 22, 337000), 'end_time': datetime.datetime(2025, 4, 15, 18, 41, 37, 854000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 13, 711000), 'updated_at': datetime.datetime(2025, 4, 15, 18, 41, 46, 270000), 'published_at': datetime.datetime(2025, 4, 15, 18, 41, 46, 263000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 15-04-2025', 'report_url': None, 'survey_payload_id': 20076, 'survey_id': 20059, 'survey_type_id': 1, 'godown_id': 'SFCOPT256', 'godown_name': 'Godown No- 05 Nigam Godown , Saadi, Simanpur Panchayat Pirpanti,', 'address': 'Sadi simanpur, Chandan nagar, PS-Ishipur barahat, District-Bhagalpur, PIN-813209', 'ownership': 'Rented', 'capacity': 200.0, 'latitude': 25.251671, 'longitude': 87.39538, 'current_status': 'active', 'godown_4_g_id': '04296'}, {'id': 369, 'document_id': 'nie2n2b5srpeimob2xrqyyld', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 15, 18, 16, 24, 647000), 'end_time': datetime.datetime(2025, 4, 15, 20, 32, 35, 621000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 12, 881000), 'updated_at': datetime.datetime(2025, 4, 15, 20, 32, 48, 574000), 'published_at': datetime.datetime(2025, 4, 15, 20, 32, 48, 569000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 15-04-2025', 'report_url': None, 'survey_payload_id': 20077, 'survey_id': 20060, 'survey_type_id': 1, 'godown_id': 'SFCOPT411', 'godown_name': 'Godown No.9, Nigam Godown Chandan', 'address': 'Block campus Village-Chandan, PO-Chandan, PS-Chandan, Landmark-, Girl high school, Banka, 814131', 'ownership': 'Nigam', 'capacity': 500.0, 'latitude': 24.6121512, 'longitude': 86.66569, 'current_status': 'active', 'godown_4_g_id': '04557'}, {'id': 505, 'document_id': 'vjsvvo6eylkdmtz4jpep7uza', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 15, 20, 38, 31, 859000), 'end_time': datetime.datetime(2025, 4, 15, 20, 41, 26, 203000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 20, 870000), 'updated_at': datetime.datetime(2025, 4, 15, 20, 41, 38, 474000), 'published_at': datetime.datetime(2025, 4, 15, 20, 41, 38, 468000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 15-04-2025', 'report_url': None, 'survey_payload_id': 20078, 'survey_id': 20061, 'survey_type_id': 1, 'godown_id': 'SFCOPT102', 'godown_name': 'Godown No- 07, Nigam Godown , Bajitpur', 'address': 'At bajitpur, po+ps - karpi, Near Bajitpur Pond Dist- Arwal Pin code 804419', 'ownership': 'Nigam', 'capacity': 1000.0, 'latitude': 25.189825, 'longitude': 84.744035, 'current_status': 'active', 'godown_4_g_id': '04254'}, {'id': 454, 'document_id': 'le6ojj1iiuqacxj0qf01q59m', 'start_latitude': Decimal('17.75'), 'start_longitude': Decimal('83.25'), 'end_latitude': Decimal('17.75'), 'end_longitude': Decimal('83.25'), 'start_time': datetime.datetime(2025, 4, 16, 5, 8, 42, 262000), 'end_time': datetime.datetime(2025, 4, 16, 6, 30, 51, 952000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 17, 914000), 'updated_at': datetime.datetime(2025, 4, 16, 6, 31, 1, 175000), 'published_at': datetime.datetime(2025, 4, 16, 6, 31, 1, 170000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Asha - 16-04-2025', 'report_url': None, 'survey_payload_id': 20079, 'survey_id': 20062, 'survey_type_id': 1, 'godown_id': 'SFCOPT636', 'godown_name': 'Godown No-14, Nigam Godown, Prakhand Parisar Forbisganj', 'address': 'Near Bdo Office,Ward No. 05,Matiyari,Block Campus,Po-Forbesganj,Ps-Forbesganj-854318', 'ownership': 'Nigam', 'capacity': 500.0, 'latitude': 26.310067, 'longitude': 87.244804, 'current_status': 'active', 'godown_4_g_id': '04780'}, {'id': 447, 'document_id': 'na12cy54r2u79ub67acayh4f', 'start_latitude': Decimal('17.75'), 'start_longitude': Decimal('83.25'), 'end_latitude': Decimal('17.75'), 'end_longitude': Decimal('83.25'), 'start_time': datetime.datetime(2025, 4, 16, 7, 39, 28, 420000), 'end_time': datetime.datetime(2025, 4, 16, 7, 41, 22, 435000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 17, 535000), 'updated_at': datetime.datetime(2025, 4, 16, 7, 41, 24, 791000), 'published_at': datetime.datetime(2025, 4, 16, 7, 41, 24, 785000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Asha - 16-04-2025', 'report_url': None, 'survey_payload_id': 20080, 'survey_id': 20063, 'survey_type_id': 1, 'godown_id': 'SFCOPT217', 'godown_name': 'Godown No- 02 Nigam Godown ,Bazar Samiti, Forbisganj', 'address': 'Near Bswc/Peg Godown, Ward No. 02, Matiyari, Bazar Samiti Campus, Marketing Yard, Po-Forbesganj, Ps-Forbesganj, Forbesganj-854319', 'ownership': 'Nigam', 'capacity': 1000.0, 'latitude': 26.312345, 'longitude': 87.256885, 'current_status': 'active', 'godown_4_g_id': '04573'}, {'id': 452, 'document_id': 'gqdptwsl5dn5wlkdr0ius8if', 'start_latitude': Decimal('17.75'), 'start_longitude': Decimal('83.25'), 'end_latitude': Decimal('17.75'), 'end_longitude': Decimal('83.25'), 'start_time': datetime.datetime(2025, 4, 16, 9, 44, 12, 128000), 'end_time': datetime.datetime(2025, 4, 16, 9, 49, 3, 885000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 17, 806000), 'updated_at': datetime.datetime(2025, 4, 16, 9, 49, 11, 273000), 'published_at': datetime.datetime(2025, 4, 16, 9, 49, 11, 269000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Asha - 16-04-2025', 'report_url': None, 'survey_payload_id': 20081, 'survey_id': 20064, 'survey_type_id': 1, 'godown_id': 'SFCOPT620', 'godown_name': 'Godown No.10,Nigam Godown Tpds', 'address': ' Near Bdo Office ,Ward No. 07 ,Block Campus ,Araria,Po-Araria ,Ps-Araria Rs-854311', 'ownership': 'Nigam', 'capacity': 500.0, 'latitude': 26.117719, 'longitude': 87.4448475, 'current_status': 'active', 'godown_4_g_id': '04751'}, {'id': 516, 'document_id': 'dbtiyu8da9fwtwovf1r5n8bo', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 16, 14, 1, 21, 554000), 'end_time': datetime.datetime(2025, 4, 16, 14, 13, 14, 865000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 21, 541000), 'updated_at': datetime.datetime(2025, 4, 16, 14, 13, 28, 181000), 'published_at': datetime.datetime(2025, 4, 16, 14, 13, 28, 176000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 16-04-2025', 'report_url': None, 'survey_payload_id': 20082, 'survey_id': 20065, 'survey_type_id': 1, 'godown_id': 'SFCOPT108', 'godown_name': 'Godown No- 02, Nigam Godown Bazar Samiti Daudnagar', 'address': 'Bazar Samiti Daudnagar PO+PS- Daudnagar, Aurangadab , PIN-824143 ', 'ownership': 'Nigam', 'capacity': 5000.0, 'latitude': 25.02771, 'longitude': 84.42159, 'current_status': 'active', 'godown_4_g_id': '04214'}, {'id': 517, 'document_id': 'g9r9z0jf0o42m4uloqd4q7co', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 16, 17, 11, 46, 805000), 'end_time': datetime.datetime(2025, 4, 16, 17, 32, 26, 486000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 21, 605000), 'updated_at': datetime.datetime(2025, 4, 16, 17, 32, 39, 950000), 'published_at': datetime.datetime(2025, 4, 16, 17, 32, 39, 945000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 16-04-2025', 'report_url': None, 'survey_payload_id': 20083, 'survey_id': 20066, 'survey_type_id': 1, 'godown_id': 'SFCOPT109', 'godown_name': 'Godown No- 03, Nigam Godown Bazar Samiti Daudnagar', 'address': 'Bazar Samiti Daudnagar PO+PS- Daudnagar, Aurangadab , PIN-824143 ', 'ownership': 'Nigam', 'capacity': 5000.0, 'latitude': 25.02808, 'longitude': 84.42215, 'current_status': 'active', 'godown_4_g_id': '04215'}, {'id': 519, 'document_id': 'o14uayttodbwgt1h9gj8ipsd', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 16, 18, 30, 46, 358000), 'end_time': datetime.datetime(2025, 4, 16, 18, 39, 1, 46000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 21, 730000), 'updated_at': datetime.datetime(2025, 4, 16, 18, 39, 13, 712000), 'published_at': datetime.datetime(2025, 4, 16, 18, 39, 13, 707000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 16-04-2025', 'report_url': None, 'survey_payload_id': 20084, 'survey_id': 20067, 'survey_type_id': 1, 'godown_id': 'SFCOPT112', 'godown_name': 'Godown No- 05, Biscoman Godown , Forum Godown, Biscoman, Aurangabad', 'address': 'Forum Godown, Biscoman, Post-Ora, PS-MUHFSIL Aurangabad, PIN-824101', 'ownership': 'Rented', 'capacity': 2000.0, 'latitude': 24.73512, 'longitude': 84.40735, 'current_status': 'active', 'godown_4_g_id': '04389'}, {'id': 490, 'document_id': 'y10aqfbil083mda9hfkyg42z', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 16, 19, 8, 13, 174000), 'end_time': datetime.datetime(2025, 4, 16, 19, 12, 31, 957000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 19, 982000), 'updated_at': datetime.datetime(2025, 4, 16, 19, 12, 44, 187000), 'published_at': datetime.datetime(2025, 4, 16, 19, 12, 44, 182000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 16-04-2025', 'report_url': None, 'survey_payload_id': 20085, 'survey_id': 20068, 'survey_type_id': 1, 'godown_id': 'SFCOPT183', 'godown_name': 'Godown No- 10, Nigam Godown , Hawidih , Behri', 'address': 'Vill-Hawidih South, Po-Baheri Darbhanga-847105', 'ownership': 'Rented', 'capacity': 1000.0, 'latitude': 25.993926, 'longitude': 86.11341, 'current_status': 'active', 'godown_4_g_id': '04229'}, {'id': 504, 'document_id': 'w6lugqel3zw1pzdnq1kycb0j', 'start_latitude': Decimal('17.45'), 'start_longitude': Decimal('78.37'), 'end_latitude': Decimal('17.45'), 'end_longitude': Decimal('78.37'), 'start_time': datetime.datetime(2025, 4, 16, 20, 24, 52, 881000), 'end_time': datetime.datetime(2025, 4, 16, 20, 29, 27, 472000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 20, 809000), 'updated_at': datetime.datetime(2025, 4, 16, 20, 29, 45, 43000), 'published_at': datetime.datetime(2025, 4, 16, 20, 29, 45, 37000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Dayakar B - 16-04-2025', 'report_url': None, 'survey_payload_id': 20086, 'survey_id': 20069, 'survey_type_id': 1, 'godown_id': 'NSFCOPT101', 'godown_name': 'Godown No- 06, Nigam Godown , Balidaad', 'address': 'At - Walidad, Po - Walidad, ps - Mehandiya,  Near Sun temple Dist - Arwal Pin code 804402', 'ownership': 'Nigam', 'capacity': 500.0, 'latitude': 25.179968, 'longitude': 84.595716, 'current_status': 'active', 'godown_4_g_id': '04253'}, {'id': 1182, 'document_id': 'z2pe9debcctr47e4uco4xy3m', 'start_latitude': Decimal('25.18'), 'start_longitude': Decimal('83.62'), 'end_latitude': Decimal('25.18'), 'end_longitude': Decimal('83.62'), 'start_time': datetime.datetime(2025, 4, 17, 9, 25, 45, 651000), 'end_time': datetime.datetime(2025, 4, 17, 10, 7, 27, 861000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 17, 9, 46, 31, 258000), 'updated_at': datetime.datetime(2025, 4, 17, 10, 7, 56, 765000), 'published_at': datetime.datetime(2025, 4, 17, 10, 7, 56, 760000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Munay Kumar Singh - 17-04-2025', 'report_url': None, 'survey_payload_id': 20087, 'survey_id': 20070, 'survey_type_id': 1, 'godown_id': 'SFCOPT66', 'godown_name': 'Godown No- 08, Nigam Godown , Bazar Samiti Parisar Mohania', 'address': 'Vill- Darwa, Landmark-Bazar Samiti, Mohania PO+PS-Mohania, Kaimur, 821109', 'ownership': 'Nigam', 'capacity': 4200.0, 'latitude': 25.17605, 'longitude': 83.62399, 'current_status': 'active', 'godown_4_g_id': '4305'}, {'id': 579, 'document_id': 'u8spl4ew91hy53zt97ddz6wj', 'start_latitude': Decimal('25.18'), 'start_longitude': Decimal('83.62'), 'end_latitude': Decimal('25.18'), 'end_longitude': Decimal('83.62'), 'start_time': datetime.datetime(2025, 4, 17, 10, 13, 7, 611000), 'end_time': datetime.datetime(2025, 4, 17, 10, 32, 35, 867000), 'beneficiary_count': None, 'created_at': datetime.datetime(2025, 4, 10, 13, 1, 25, 160000), 'updated_at': datetime.datetime(2025, 4, 17, 10, 34, 1, 398000), 'published_at': datetime.datetime(2025, 4, 17, 10, 34, 1, 394000), 'created_by_id': None, 'updated_by_id': None, 'locale': None, 'prev_issues': None, 'new_issues': None, 'last_inspection_details': 'Munay Kumar Singh - 17-04-2025', 'report_url': None, 'survey_payload_id': 20088, 'survey_id': 20071, 'survey_type_id': 1, 'godown_id': 'SFCOPT67', 'godown_name': 'Godown No- 05, Nigam Godown , Bazar Samiti Parisar Mohania', 'address': 'Vill- Darwa, Landmark-Bazar Samiti, Mohania PO+PS-Mohania, Kaimur,  821109', 'ownership': 'Nigam', 'capacity': 2000.0, 'latitude': 25.17722, 'longitude': 83.62377, 'current_status': 'active', 'godown_4_g_id': '04302'}]
    
    print("\nTesting SQL Visualizer:")
    print(f"\nQuery: '{query}'")
    
    try:
        # Generate visualization code
        results = visualizer.main_visualizer(query, test_results)
        print("\nGenerated Code:\n")
        print(results["generated_code"])
            
    except Exception as e:
        print(f"\nError: {str(e)}")

if __name__ == "__main__":
    main()